<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>express-session</title>
  </head>
  <body>
    <button type="button" name="login" onclick="login()">LOGIN</button>
    <button type="button" name="user" onclick="user()">USER</button>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.1/axios.js" charset="utf-8"></script>
    <script type="text/javascript">

      function login() {
          // axios({
          //   method: 'get',
          //   url: 'http://localhost:3000/login',
          //   withCredentials: true,
          //   headers: {
          //     'Content-Type': 'application/x-www-form-urlencoded'
          //   }
          // }).then(function(data){ console.log(data); }).catch(function(err){ console.log(err); })

          axios.request({
              method: "get",
              url: "http://localhost:3000/login",
              maxRedirects: 0,
              withCredentials: tru
              validateStatus: function(status) {
                  return status >= 200 && status < 303;
              },
          }).then(res => {
              console.log(res.headers["set-cookie"]);
          });

          // jQuery.ajax({
          //    url: "http://localhost:3000/login",
          //    dataType: 'json',
          //    xhrFields: { withCredentials: true },
          //    success: function(data) {
          //    console.log(data);
          //    }
          // });
      }

      function user() {
          axios({
            method: 'get',
            url: 'http://localhost:3000/user'
          })
      }

      // function login() {
      //   $.get("http://localhost:3000/login", function(data, status){
      //       alert("Data: " + data + "\nStatus: " + status);
      //       console.log(data);
      //   });
      // }
      //
      // function user() {
      //   $.get("http://localhost:3000/user", function(data, status){
      //       alert("Data: " + data + "\nStatus: " + status);
      //   });
      // }

    </script>
  </body>
</html>
